{% extends "glims/dashboard.html" %}
{% block page %}Experiments {% endblock %}
{% block breadcrumbs %} Experiments {% endblock %}
{% block content %}


<script src="/static/js/pages/experiments.js"></script>

<div class="row">
	<div class="col-lg-12">
      	<div class="widget">
          <div class="widget-header">
            <i class="fa fa-rocket"></i> Experiments
            <a href="{% url 'create_experiment' %}" class="pull-right btn btn-sm btn-success">Create</a>
          </div>
          <div class="widget-body no-padding" ng-controller="ExperimentController">
				<div remote-table url="/api/experiments/" ng-init="params={{query}}">
					<span ng-repeat="(k,v) in params"><a href="#" ng-click="removeParameter(k)">x</a> {[k]}={[v]}</span><br>
					<input ng-model="params.search" ng-change="load()" placeholder="Search"/>
					<table class="table table-striped table-condensed">
						<!-- <thead remote-headers headers="headers"></thead> -->
						<thead><th remote-header ng-repeat="header in headers"></th><th>Permissions</th></thead>
						<tr ng-repeat="row in rows">
				        <td><a href="{[ experimentLink(row) ]}">{[ row.name ]}</a></td>
				        <td>{[ row.description ]}</td>
				        <td><a href="{[ permissionLink(row) ]}">Permissions</a></td>
				      </tr>
					</table>
					<div remote-pagination></div>
				</div>
            </div>
        </div>
	</div>
</div>
{% endblock %}